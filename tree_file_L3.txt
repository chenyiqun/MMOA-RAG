data
├── naive_rag
│   ├── batch_6epochssft_1epochppo.jsonl
│   ├── batch_6epochssft_1epochppo_temp07_topp09.jsonl
│   ├── batch_train_to_pair_3epochs_4096_half.jsonl
│   ├── batch_train_to_pair_3epochs_4096.jsonl
│   ├── batch_train_to_pair_3epochs_4096_tail.jsonl
│   ├── batch_val_to_pair_6epochs_4096.jsonl
│   ├── ppo_2epochs.jsonl
│   ├── ppo_3epochs.jsonl
│   ├── ppo_4epochs.jsonl
│   ├── predict_answers_1epoch_4096_val_data.jsonl
│   ├── predict_answers_2epochs_4096_val_data.jsonl
│   ├── predict_answers_3epochs_4096_val_data.jsonl
│   ├── predict_answers_4epochs_4096_val_data.jsonl
│   ├── predict_answers_5epochs_4096_val_data.jsonl
│   ├── predict_answers_6epochs_4096_val_data.jsonl
│   ├── train_to_pair_1epoch_4096.jsonl
│   ├── train_to_pair_2epochs_4096.jsonl
│   └── train_to_pair_6epochs_4096.jsonl
├── psgs_w100.tsv
├── train-00000-of-00001.parquet
├── train_ppo_generator_data.json
├── train_rm_pair_data.json
├── train_sft_generator_data.json
├── train_top_k_docs.jsonl
├── validation-00000-of-00001.parquet
├── val_sft_generator_data.json
├── val_top_k_docs.jsonl
└── wikipedia.contriever
evaluator.py [error opening dir]
get_generator_ppo_data_alpaca.py [error opening dir]
get_generator_sft_data_alpaca.py [error opening dir]
get_generator_sft_data.py [error opening dir]
get_rm_data_alpaca.py [error opening dir]
get_top_k.py [error opening dir]
LLaMA-Factory
├── assets
│   ├── benchmark.svg
│   ├── logo.png
│   ├── wechat.jpg
│   └── wechat_npu.jpg
├── CITATION.cff
├── data
│   ├── alpaca_en_demo.json
│   ├── alpaca_en.json
│   ├── alpaca_zh_demo.json
│   ├── belle_multiturn
│   │   └── belle_multiturn.py
│   ├── c4_demo.json
│   ├── dataset_info.json
│   ├── dpo_en_demo.json
│   ├── dpo_en.json
│   ├── dpo_zh_demo.json
│   ├── dpo_zh.json
│   ├── glaive_toolcall_en_demo.json
│   ├── glaive_toolcall_zh_demo.json
│   ├── hh_rlhf_en
│   │   └── hh_rlhf_en.py
│   ├── identity.json
│   ├── kto_en_demo.json
│   ├── mllm_demo_data
│   │   ├── 1.jpg
│   │   ├── 1.mp4
│   │   ├── 2.avi
│   │   ├── 2.jpg
│   │   ├── 3.jpg
│   │   └── 3.mp4
│   ├── mllm_demo.json
│   ├── mllm_video_demo.json
│   ├── README.md
│   ├── README_zh.md
│   ├── train-00000-of-00001-14586c3ae6330973.parquet
│   ├── train_ppo_generator_data.json
│   ├── train_rm_pair_data.json
│   ├── train_sft_generator_data.json
│   ├── trans_to_json.py
│   ├── ultra_chat
│   │   └── ultra_chat.py
│   └── wiki_demo.txt
├── docker
│   ├── docker-cuda
│   │   ├── docker-compose.yml
│   │   └── Dockerfile
│   ├── docker-npu
│   │   ├── docker-compose.yml
│   │   └── Dockerfile
│   └── docker-rocm
│       ├── docker-compose.yml
│       └── Dockerfile
├── evaluation
│   ├── ceval
│   │   ├── ceval.py
│   │   ├── ceval.zip
│   │   └── mapping.json
│   ├── cmmlu
│   │   ├── cmmlu.py
│   │   ├── cmmlu.zip
│   │   └── mapping.json
│   └── mmlu
│       ├── mapping.json
│       ├── mmlu.py
│       └── mmlu.zip
├── examples
│   ├── accelerate
│   │   └── fsdp_config.yaml
│   ├── deepspeed
│   │   ├── ds_z0_config.json
│   │   ├── ds_z2_config.json
│   │   ├── ds_z2_offload_config.json
│   │   ├── ds_z3_config.json
│   │   └── ds_z3_offload_config.json
│   ├── extras
│   │   ├── adam_mini
│   │   ├── badam
│   │   ├── fsdp_qlora
│   │   ├── galore
│   │   ├── llama_pro
│   │   ├── loraplus
│   │   ├── mod
│   │   └── pissa
│   ├── inference
│   │   ├── llama3_lora_sft.yaml
│   │   ├── llama3_vllm.yaml
│   │   ├── llama3.yaml
│   │   ├── llava1_5.yaml
│   │   └── qwen2_vl.yaml
│   ├── merge_lora
│   │   ├── llama3_gptq.yaml
│   │   ├── llama3_lora_sft.yaml
│   │   └── qwen2vl_lora_sft.yaml
│   ├── README.md
│   ├── README_zh.md
│   ├── train_full
│   │   ├── llama3_full_predict.yaml
│   │   ├── llama3_full_sft_ds3.yaml
│   │   └── qwen2vl_full_sft.yaml
│   ├── train_lora
│   │   ├── llama3_lora_dpo.yaml
│   │   ├── llama3_lora_eval.yaml
│   │   ├── llama3_lora_kto.yaml
│   │   ├── llama3_lora_ppo.yaml
│   │   ├── llama3_lora_predict.yaml
│   │   ├── llama3_lora_pretrain.yaml
│   │   ├── llama3_lora_reward.yaml
│   │   ├── llama3_lora_sft_ds0.yaml
│   │   ├── llama3_lora_sft_ds3.yaml
│   │   ├── llama3_lora_sft.yaml
│   │   ├── llama3_preprocess.yaml
│   │   ├── llava1_5_lora_sft.yaml
│   │   ├── qwen2vl_lora_dpo.yaml
│   │   └── qwen2vl_lora_sft.yaml
│   └── train_qlora
│       ├── llama3_lora_sft_aqlm.yaml
│       ├── llama3_lora_sft_awq.yaml
│       ├── llama3_lora_sft_gptq.yaml
│       └── llama3_lora_sft_otfq.yaml
├── full_sft_log.txt
├── LICENSE
├── lora_sft_log.txt
├── Makefile
├── MANIFEST.in
├── models
│   ├── llama3_lora_ppo_2epochs
│   │   ├── config.json
│   │   ├── generation_config.json
│   │   ├── model-00001-of-00009.safetensors
│   │   ├── model-00002-of-00009.safetensors
│   │   ├── model-00003-of-00009.safetensors
│   │   ├── model-00004-of-00009.safetensors
│   │   ├── model-00005-of-00009.safetensors
│   │   ├── model-00006-of-00009.safetensors
│   │   ├── model-00007-of-00009.safetensors
│   │   ├── model-00008-of-00009.safetensors
│   │   ├── model-00009-of-00009.safetensors
│   │   ├── model.safetensors.index.json
│   │   ├── special_tokens_map.json
│   │   ├── tokenizer_config.json
│   │   └── tokenizer.json
│   ├── llama3_lora_ppo_3epochs
│   │   ├── config.json
│   │   ├── generation_config.json
│   │   ├── model-00001-of-00009.safetensors
│   │   ├── model-00002-of-00009.safetensors
│   │   ├── model-00003-of-00009.safetensors
│   │   ├── model-00004-of-00009.safetensors
│   │   ├── model-00005-of-00009.safetensors
│   │   ├── model-00006-of-00009.safetensors
│   │   ├── model-00007-of-00009.safetensors
│   │   ├── model-00008-of-00009.safetensors
│   │   ├── model-00009-of-00009.safetensors
│   │   ├── model.safetensors.index.json
│   │   ├── special_tokens_map.json
│   │   ├── tokenizer_config.json
│   │   └── tokenizer.json
│   ├── llama3_lora_ppo_4epochs
│   │   ├── config.json
│   │   ├── generation_config.json
│   │   ├── model-00001-of-00009.safetensors
│   │   ├── model-00002-of-00009.safetensors
│   │   ├── model-00003-of-00009.safetensors
│   │   ├── model-00004-of-00009.safetensors
│   │   ├── model-00005-of-00009.safetensors
│   │   ├── model-00006-of-00009.safetensors
│   │   ├── model-00007-of-00009.safetensors
│   │   ├── model-00008-of-00009.safetensors
│   │   ├── model-00009-of-00009.safetensors
│   │   ├── model.safetensors.index.json
│   │   ├── special_tokens_map.json
│   │   ├── tokenizer_config.json
│   │   └── tokenizer.json
│   └── llama3_lora_sft
│       ├── config.json
│       ├── generation_config.json
│       ├── model-00001-of-00009.safetensors
│       ├── model-00002-of-00009.safetensors
│       ├── model-00003-of-00009.safetensors
│       ├── model-00004-of-00009.safetensors
│       ├── model-00005-of-00009.safetensors
│       ├── model-00006-of-00009.safetensors
│       ├── model-00007-of-00009.safetensors
│       ├── model-00008-of-00009.safetensors
│       ├── model-00009-of-00009.safetensors
│       ├── model.safetensors.index.json
│       ├── special_tokens_map.json
│       ├── tokenizer_config.json
│       └── tokenizer.json
├── pyproject.toml
├── question_output.txt
├── README.md
├── README_zh.md
├── requirements.txt
├── run.sh
├── saves
│   └── llama3-8b
│       ├── full
│       └── lora
├── scripts
│   ├── cal_flops.py
│   ├── cal_lr.py
│   ├── cal_mfu.py
│   ├── cal_ppl.py
│   ├── length_cdf.py
│   ├── llamafy_baichuan2.py
│   ├── llamafy_qwen.py
│   ├── llama_pro.py
│   ├── loftq_init.py
│   ├── pissa_init.py
│   └── test_toolcall.py
├── setup.py
├── src
│   ├── api.py
│   ├── llamafactory
│   │   ├── api
│   │   ├── chat
│   │   ├── cli.py
│   │   ├── data
│   │   ├── eval
│   │   ├── extras
│   │   ├── hparams
│   │   ├── __init__.py
│   │   ├── launcher.py
│   │   ├── model
│   │   ├── __pycache__
│   │   ├── train
│   │   └── webui
│   ├── llamafactory.egg-info
│   │   ├── dependency_links.txt
│   │   ├── entry_points.txt
│   │   ├── PKG-INFO
│   │   ├── requires.txt
│   │   ├── SOURCES.txt
│   │   └── top_level.txt
│   ├── train.py
│   └── webui.py
├── tests
│   ├── data
│   │   ├── processors
│   │   ├── test_collator.py
│   │   ├── test_formatter.py
│   │   ├── test_mm_plugin.py
│   │   └── test_template.py
│   ├── e2e
│   │   ├── test_chat.py
│   │   └── test_train.py
│   ├── eval
│   │   └── test_eval_template.py
│   └── model
│       ├── model_utils
│       ├── test_base.py
│       ├── test_freeze.py
│       ├── test_full.py
│       ├── test_lora.py
│       └── test_pissa.py
└── wandb
    ├── debug-cli.root.log
    ├── debug-internal.log
    ├── debug.log
    ├── latest-run
    │   ├── files
    │   ├── logs
    │   ├── run-f0znyrwa.wandb
    │   └── tmp
    ├── offline-run-20240930_205545-8vnpspd5
    │   ├── files
    │   ├── logs
    │   ├── run-8vnpspd5.wandb
    │   └── tmp
    ├── offline-run-20241003_232617-9ajt74y3
    │   ├── files
    │   ├── logs
    │   ├── run-9ajt74y3.wandb
    │   └── tmp
    ├── offline-run-20241003_233414-g2vr27sq
    │   ├── files
    │   ├── logs
    │   ├── run-g2vr27sq.wandb
    │   └── tmp
    └── offline-run-20241004_000924-f0znyrwa
        ├── files
        ├── logs
        ├── run-f0znyrwa.wandb
        └── tmp
models
├── facebook
│   └── contriever
│       ├── config.json
│       ├── model.safetensors
│       ├── special_tokens_map.json
│       ├── tokenizer_config.json
│       ├── tokenizer.json
│       └── vocab.txt
└── LLM-Research
    └── Meta-Llama-3-8B-Instruct
        ├── config.json
        ├── configuration.json
        ├── generation_config.json
        ├── LICENSE
        ├── model-00001-of-00004.safetensors
        ├── model-00002-of-00004.safetensors
        ├── model-00003-of-00004.safetensors
        ├── model-00004-of-00004.safetensors
        ├── model.safetensors.index.json
        ├── README.md
        ├── special_tokens_map.json
        ├── tokenizer_config.json
        ├── tokenizer.json
        └── USE_POLICY.md
naive_rag_answer_batch.py [error opening dir]
naive_rag_answer.py [error opening dir]
normalize_answers.py [error opening dir]
normalize_text.py [error opening dir]
__pycache__
├── normalize_answers.cpython-38.pyc
└── normalize_text.cpython-38.pyc
test_fun.py [error opening dir]
tree_file_L1.txt [error opening dir]
tree_file_L2.txt [error opening dir]
tree_file.txt [error opening dir]
vllm_lora_inference.py [error opening dir]

87 directories, 254 files
